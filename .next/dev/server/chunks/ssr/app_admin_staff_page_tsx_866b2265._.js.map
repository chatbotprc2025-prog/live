{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TECHNOSOFT/Downloads/test-main/PCE_Assistant-main/app/admin/staff/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\n\ninterface Staff {\n  id: string;\n  name: string;\n  department: string;\n  designation: string;\n  email?: string;\n  phone?: string;\n  status: string;\n}\n\nexport default function StaffManagementPage() {\n  const [staff, setStaff] = useState<Staff[]>([]);\n  const [departments, setDepartments] = useState<string[]>([]);\n  const [selectedDept, setSelectedDept] = useState<string>('all');\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingStaff, setEditingStaff] = useState<Staff | null>(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    department: '',\n    designation: '',\n    email: '',\n    phone: '',\n    status: 'ACTIVE',\n  });\n\n  useEffect(() => {\n    loadStaff();\n  }, [selectedDept]);\n\n  const loadStaff = async () => {\n    try {\n      const url = selectedDept !== 'all' \n        ? `/api/admin/staff?department=${selectedDept}`\n        : '/api/admin/staff';\n      const res = await fetch(url);\n      const data = await res.json();\n      setStaff(data);\n      \n      // Extract unique departments\n      const depts = Array.from(new Set(data.map((s: Staff) => s.department))) as string[];\n      setDepartments(depts);\n    } catch (error) {\n      console.error('Failed to load staff:', error);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const url = editingStaff \n        ? `/api/admin/staff/${editingStaff.id}`\n        : '/api/admin/staff';\n      const method = editingStaff ? 'PUT' : 'POST';\n      \n      const res = await fetch(url, {\n        method,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData),\n      });\n\n      if (res.ok) {\n        setIsModalOpen(false);\n        setEditingStaff(null);\n        setFormData({\n          name: '',\n          department: '',\n          designation: '',\n          email: '',\n          phone: '',\n          status: 'ACTIVE',\n        });\n        loadStaff();\n      }\n    } catch (error) {\n      console.error('Failed to save staff:', error);\n    }\n  };\n\n  const handleEdit = (staffMember: Staff) => {\n    setEditingStaff(staffMember);\n    setFormData({\n      name: staffMember.name,\n      department: staffMember.department,\n      designation: staffMember.designation,\n      email: staffMember.email || '',\n      phone: staffMember.phone || '',\n      status: staffMember.status,\n    });\n    setIsModalOpen(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this staff member?')) return;\n    \n    try {\n      const res = await fetch(`/api/admin/staff/${id}`, { method: 'DELETE' });\n      if (res.ok) {\n        loadStaff();\n      }\n    } catch (error) {\n      console.error('Failed to delete staff:', error);\n    }\n  };\n\n  return (\n    <div className=\"p-8\">\n      <div className=\"flex items-center justify-between mb-8\">\n        <h1 className=\"text-4xl font-bold mb-2 gradient-text animate-slide-up\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent' }}>\n          Faculty Management\n        </h1>\n        <button\n          onClick={() => {\n            setEditingStaff(null);\n            setFormData({\n              name: '',\n              department: '',\n              designation: '',\n              email: '',\n              phone: '',\n              status: 'ACTIVE',\n            });\n            setIsModalOpen(true);\n          }}\n          className=\"btn-primary flex items-center gap-2 px-5 py-3 rounded-2xl text-white font-semibold relative overflow-hidden group hover-lift\"\n          style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}\n        >\n          <span className=\"material-symbols-outlined relative z-10\">add</span>\n          <span className=\"relative z-10\">Add Staff</span>\n          <div className=\"absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity\"></div>\n        </button>\n      </div>\n\n      {/* Department Tabs - Pill Filters */}\n      <div className=\"flex gap-3 mb-6 overflow-x-auto pb-2\">\n        <button\n          onClick={() => setSelectedDept('all')}\n          className={`px-5 py-2.5 rounded-full text-sm font-semibold transition-all whitespace-nowrap ${\n            selectedDept === 'all'\n              ? 'text-white shadow-lg'\n              : 'glass-card text-charcoal hover:bg-white/30'\n          }`}\n          style={selectedDept === 'all' ? { background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)' } : { background: 'rgba(255, 255, 255, 0.3)', backdropFilter: 'blur(10px)' }}\n        >\n          All\n        </button>\n        {departments.map((dept) => (\n          <button\n            key={dept}\n            onClick={() => setSelectedDept(dept)}\n            className={`px-5 py-2.5 rounded-full text-sm font-semibold transition-all whitespace-nowrap ${\n              selectedDept === dept\n                ? 'text-white shadow-lg'\n                : 'glass-card text-charcoal hover:bg-white/30'\n            }`}\n            style={selectedDept === dept ? { background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)' } : { background: 'rgba(255, 255, 255, 0.3)', backdropFilter: 'blur(10px)' }}\n          >\n            {dept}\n          </button>\n        ))}\n      </div>\n\n      {/* Staff List */}\n      <div className=\"space-y-4\">\n        {staff.map((member, index) => (\n          <div\n            key={member.id}\n            className=\"glass-card rounded-2xl p-5 hover-lift animate-slide-up flex items-center justify-between\"\n            style={{ background: 'rgba(255, 255, 255, 0.4)', backdropFilter: 'blur(15px)', border: '1px solid rgba(255, 255, 255, 0.3)', animationDelay: `${index * 0.05}s` }}\n          >\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex h-14 w-14 items-center justify-center rounded-2xl relative overflow-hidden font-bold text-white text-lg\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', boxShadow: '0 8px 30px rgba(102, 126, 234, 0.3)' }}>\n                <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent\"></div>\n                <span className=\"relative z-10\">{member.name.charAt(0)}</span>\n              </div>\n              <div>\n                <p className=\"font-bold text-charcoal text-lg\">{member.name}</p>\n                <p className=\"text-sm text-gray-600 font-medium\">\n                  {member.designation} â€¢ {member.department}\n                </p>\n                {member.email && (\n                  <p className=\"text-xs text-gray-500 mt-1\">{member.email}</p>\n                )}\n              </div>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={() => handleEdit(member)}\n                className=\"p-3 rounded-xl glass-card hover-lift transition-all\"\n                style={{ background: 'rgba(255, 255, 255, 0.3)', backdropFilter: 'blur(10px)' }}\n              >\n                <span className=\"material-symbols-outlined text-charcoal\">edit</span>\n              </button>\n              <button\n                onClick={() => handleDelete(member.id)}\n                className=\"p-3 rounded-xl hover-lift transition-all\"\n                style={{ background: 'rgba(239, 68, 68, 0.1)', backdropFilter: 'blur(10px)' }}\n              >\n                <span className=\"material-symbols-outlined text-red-500\">delete</span>\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Modal - Glassmorphic */}\n      {isModalOpen && (\n        <div className=\"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in\">\n          <div className=\"glass-card rounded-3xl p-8 max-w-md w-full shadow-large max-h-[90vh] overflow-y-auto animate-slide-up\" style={{ background: 'rgba(255, 255, 255, 0.3)', backdropFilter: 'blur(20px)', border: '1px solid rgba(255, 255, 255, 0.3)' }}>\n            <h2 className=\"text-2xl font-bold gradient-text mb-6\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent' }}>\n              {editingStaff ? 'Edit Staff' : 'Add Staff'}\n            </h2>\n            <form onSubmit={handleSubmit} className=\"space-y-5\">\n              <div>\n                <label className=\"block text-sm font-semibold text-charcoal mb-2\">\n                  Name\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  required\n                  className=\"modern-input w-full rounded-2xl py-3 px-4 text-charcoal\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-semibold text-charcoal mb-2\">\n                  Department\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.department}\n                  onChange={(e) => setFormData({ ...formData, department: e.target.value })}\n                  required\n                  className=\"modern-input w-full rounded-2xl py-3 px-4 text-charcoal\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-semibold text-charcoal mb-2\">\n                  Designation\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.designation}\n                  onChange={(e) => setFormData({ ...formData, designation: e.target.value })}\n                  required\n                  className=\"modern-input w-full rounded-2xl py-3 px-4 text-charcoal\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-semibold text-charcoal mb-2\">\n                  Email\n                </label>\n                <input\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n                  className=\"modern-input w-full rounded-2xl py-3 px-4 text-charcoal\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-semibold text-charcoal mb-2\">\n                  Phone\n                </label>\n                <input\n                  type=\"tel\"\n                  value={formData.phone}\n                  onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n                  className=\"modern-input w-full rounded-2xl py-3 px-4 text-charcoal\"\n                />\n              </div>\n              <div className=\"flex gap-4 pt-2\">\n                <button\n                  type=\"button\"\n                  onClick={() => setIsModalOpen(false)}\n                  className=\"flex-1 px-4 py-3 rounded-2xl glass-card text-charcoal font-semibold hover-lift transition-all\"\n                  style={{ background: 'rgba(255, 255, 255, 0.3)', backdropFilter: 'blur(10px)' }}\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"btn-primary flex-1 px-4 py-3 rounded-2xl text-white font-semibold relative overflow-hidden group\"\n                  style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}\n                >\n                  <span className=\"relative z-10\">{editingStaff ? 'Update' : 'Create'}</span>\n                  <div className=\"absolute inset-0 bg-gradient-to-r from-purple-600 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity\"></div>\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}