{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TECHNOSOFT/Downloads/test-main/PCE_Assistant-main/app/admin/layout.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport Link from 'next/link';\n\nexport default function AdminLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [user, setUser] = useState<any>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const router = useRouter();\n  const pathname = usePathname();\n\n  useEffect(() => {\n    checkAuth();\n  }, []);\n\n  const checkAuth = async () => {\n    try {\n      const res = await fetch('/api/admin/auth/verify');\n      if (!res.ok) {\n        router.push('/admin/login');\n        return;\n      }\n      const data = await res.json();\n      setUser(data.user);\n    } catch (error) {\n      router.push('/admin/login');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    await fetch('/api/admin/auth/logout', { method: 'POST' });\n    router.push('/admin/login');\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center\" style={{ background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)' }}>\n        <div className=\"glass-card rounded-2xl p-8 animate-pulse\" style={{ background: 'rgba(255, 255, 255, 0.3)', backdropFilter: 'blur(15px)' }}>\n          <div className=\"flex items-center gap-3\">\n            <div className=\"size-3 rounded-full bg-primary animate-pulse\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}></div>\n            <span className=\"text-charcoal font-medium\">Loading...</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (pathname === '/admin/login') {\n    return <>{children}</>;\n  }\n\n  const navItems = [\n    { href: '/admin', icon: 'dashboard', label: 'Dashboard' },\n     { href: '/admin/staff', icon: 'people', label: 'Staff' },\n    { href: '/admin/fees', icon: 'receipt_long', label: 'Fees' },\n    { href: '/admin/rooms', icon: 'meeting_room', label: 'Rooms' },\n    { href: '/admin/knowledge', icon: 'auto_stories', label: 'Knowledge Base' },\n    { href: '/admin/academics', icon: 'school', label: 'Academics' },\n    { href: '/admin/logs', icon: 'description', label: 'Audit Logs' },\n      { href: '/admin/class-timetable', icon: 'schedule', label: 'Class Timetable' },\n      { href: '/admin/exam-timetable', icon: 'event', label: 'Exam Timetable' },\n  ];\n\n  return (\n    <div className=\"flex h-screen relative overflow-hidden\" style={{ background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)' }}>\n      {/* Background Effects */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-purple-400/10 via-blue-400/10 to-pink-400/10 rounded-full blur-3xl\"></div>\n        <div className=\"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-blue-400/10 via-purple-400/10 to-pink-400/10 rounded-full blur-3xl\"></div>\n      </div>\n\n      {/* Sidebar - Glassmorphic */}\n      <aside className=\"w-72 glass-card border-r flex flex-col relative z-10\" style={{ background: 'rgba(255, 255, 255, 0.25)', backdropFilter: 'blur(20px)', borderColor: 'rgba(255, 255, 255, 0.18)' }}>\n        <div className=\"p-6 border-b\" style={{ borderColor: 'rgba(255, 255, 255, 0.18)' }}>\n          <div className=\"flex items-center gap-3 mb-2\">\n            <div className=\"flex h-12 w-12 items-center justify-center rounded-2xl relative overflow-hidden animate-float\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', boxShadow: '0 8px 30px rgba(102, 126, 234, 0.4)' }}>\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent\"></div>\n              <span className=\"material-symbols-outlined text-white text-2xl relative z-10\">admin_panel_settings</span>\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold gradient-text\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent' }}>\n                Admin Portal\n              </h1>\n              <p className=\"text-xs text-gray-600 font-medium\">PCE Campus Assistant</p>\n            </div>\n          </div>\n        </div>\n        <nav className=\"flex-1 p-4 space-y-2 overflow-y-auto\">\n          {navItems.map((item) => (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\n                pathname === item.href\n                  ? 'neu-card-inset'\n                  : 'hover:bg-white/20'\n              }`}\n              style={pathname === item.href ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\n            >\n              <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === item.href ? '#667eea' : 'inherit' }}>\n                {item.icon}\n              </span>\n              <span className=\"font-semibold\" style={{ color: pathname === item.href ? '#667eea' : 'inherit' }}>\n                {item.label}\n              </span>\n            </Link>\n          ))}\n          <Link\n            href=\"/admin/staff\"\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\n              pathname === '/admin/staff'\n                ? 'neu-card-inset'\n                : 'hover:bg-white/20'\n            }`}\n            style={pathname === '/admin/staff' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\n          >\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/staff' ? '#667eea' : 'inherit' }}>people</span>\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/staff' ? '#667eea' : 'inherit' }}>Staff</span>\n          </Link>\n          <Link\n            href=\"/admin/fees\"\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\n              pathname === '/admin/fees'\n                ? 'neu-card-inset'\n                : 'hover:bg-white/20'\n            }`}\n            style={pathname === '/admin/fees' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\n          >\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/fees' ? '#667eea' : 'inherit' }}>receipt_long</span>\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/fees' ? '#667eea' : 'inherit' }}>Fees</span>\n          </Link>\n          <Link\n            href=\"/admin/client-users\"\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\n              pathname === '/admin/client-users'\n                ? 'neu-card-inset'\n                : 'hover:bg-white/20'\n            }`}\n            style={pathname === '/admin/client-users' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\n          >\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/client-users' ? '#667eea' : 'inherit' }}>person_add</span>\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/client-users' ? '#667eea' : 'inherit' }}>Registered Clients</span>\n          </Link>\n          <Link\n            href=\"/admin/rooms\"\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\n              pathname === '/admin/rooms'\n                ? 'neu-card-inset'\n                : 'hover:bg-white/20'\n            }`}\n            style={pathname === '/admin/rooms' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\n          >\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/rooms' ? '#667eea' : 'inherit' }}>meeting_room</span>\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/rooms' ? '#667eea' : 'inherit' }}>Rooms</span>\n          </Link>\n          <Link\n            href=\"/admin/roles\"\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\n              pathname === '/admin/roles'\n                ? 'neu-card-inset'\n                : 'hover:bg-white/20'\n            }`}\n            style={pathname === '/admin/roles' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\n          >\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/roles' ? '#667eea' : 'inherit' }}>admin_panel_settings</span>\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/roles' ? '#667eea' : 'inherit' }}>Roles</span>\n          </Link>\n          <Link\n            href=\"/admin/settings\"\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\n              pathname === '/admin/settings'\n                ? 'neu-card-inset'\n                : 'hover:bg-white/20'\n            }`}\n            style={pathname === '/admin/settings' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\n          >\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/settings' ? '#667eea' : 'inherit' }}>settings</span>\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/settings' ? '#667eea' : 'inherit' }}>Settings</span>\n          </Link>\n        </nav>\n        <div className=\"p-4 border-t\" style={{ borderColor: 'rgba(255, 255, 255, 0.18)' }}>\n          <div className=\"mb-3 p-3 rounded-xl glass-card\" style={{ background: 'rgba(255, 255, 255, 0.2)', backdropFilter: 'blur(10px)' }}>\n            <p className=\"text-xs text-gray-500 mb-1\">Logged in as</p>\n            <p className=\"text-sm font-semibold text-charcoal truncate\">{user?.email}</p>\n          </div>\n          <button\n            onClick={handleLogout}\n            className=\"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-sm font-semibold text-white hover-lift transition-all\"\n            style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', boxShadow: '0 4px 15px rgba(102, 126, 234, 0.3)' }}\n          >\n            <span className=\"material-symbols-outlined text-lg\">logout</span>\n            <span>Logout</span>\n          </button>\n        </div>\n      </aside>\n\n      {/* Main Content */}\n      <main className=\"flex-1 overflow-y-auto relative z-10\">\n        {children}\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}