{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/TECHNOSOFT/Downloads/test-main/PCE_Assistant-main/app/admin/layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter, usePathname } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default function AdminLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const [user, setUser] = useState<any>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n\r\n  useEffect(() => {\r\n    checkAuth();\r\n  }, []);\r\n\r\n  const checkAuth = async () => {\r\n    try {\r\n      const res = await fetch('/api/admin/auth/verify');\r\n      if (!res.ok) {\r\n        router.push('/admin/login');\r\n        return;\r\n      }\r\n      const data = await res.json();\r\n      setUser(data.user);\r\n    } catch (error) {\r\n      router.push('/admin/login');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    await fetch('/api/admin/auth/logout', { method: 'POST' });\r\n    router.push('/admin/login');\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center\" style={{ background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)' }}>\r\n        <div className=\"glass-card rounded-2xl p-8 animate-pulse\" style={{ background: 'rgba(255, 255, 255, 0.3)', backdropFilter: 'blur(15px)' }}>\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"size-3 rounded-full bg-primary animate-pulse\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)' }}></div>\r\n            <span className=\"text-charcoal font-medium\">Loading...</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (pathname === '/admin/login') {\r\n    return <>{children}</>;\r\n  }\r\n\r\n  const navItems = [\r\n    { href: '/admin', icon: 'dashboard', label: 'Dashboard' },\r\n     { href: '/admin/staff', icon: 'people', label: 'Staff' },\r\n    { href: '/admin/fees', icon: 'receipt_long', label: 'Fees' },\r\n    { href: '/admin/rooms', icon: 'meeting_room', label: 'Rooms' },\r\n    { href: '/admin/knowledge', icon: 'auto_stories', label: 'Knowledge Base' },\r\n    { href: '/admin/academics', icon: 'school', label: 'Academics' },\r\n    { href: '/admin/logs', icon: 'description', label: 'Audit Logs' },\r\n      { href: '/admin/class-timetable', icon: 'schedule', label: 'Class Timetable' },\r\n      { href: '/admin/exam-timetable', icon: 'event', label: 'Exam Timetable' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"flex h-screen relative overflow-hidden\" style={{ background: 'linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)' }}>\r\n      {/* Background Effects */}\r\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n        <div className=\"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-purple-400/10 via-blue-400/10 to-pink-400/10 rounded-full blur-3xl\"></div>\r\n        <div className=\"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-blue-400/10 via-purple-400/10 to-pink-400/10 rounded-full blur-3xl\"></div>\r\n      </div>\r\n\r\n      {/* Sidebar - Glassmorphic */}\r\n      <aside className=\"w-72 glass-card border-r flex flex-col relative z-10\" style={{ background: 'rgba(255, 255, 255, 0.25)', backdropFilter: 'blur(20px)', borderColor: 'rgba(255, 255, 255, 0.18)' }}>\r\n        <div className=\"p-6 border-b\" style={{ borderColor: 'rgba(255, 255, 255, 0.18)' }}>\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <div className=\"flex h-12 w-12 items-center justify-center rounded-2xl relative overflow-hidden animate-float\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', boxShadow: '0 8px 30px rgba(102, 126, 234, 0.4)' }}>\r\n              <div className=\"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent\"></div>\r\n              <span className=\"material-symbols-outlined text-white text-2xl relative z-10\">admin_panel_settings</span>\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-xl font-bold gradient-text\" style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', WebkitBackgroundClip: 'text', WebkitTextFillColor: 'transparent' }}>\r\n                Admin Portal\r\n              </h1>\r\n              <p className=\"text-xs text-gray-600 font-medium\">PCE Campus Assistant</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <nav className=\"flex-1 p-4 space-y-2 overflow-y-auto\">\r\n          {navItems.map((item) => (\r\n            <Link\r\n              key={item.href}\r\n              href={item.href}\r\n              className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\r\n                pathname === item.href\r\n                  ? 'neu-card-inset'\r\n                  : 'hover:bg-white/20'\r\n              }`}\r\n              style={pathname === item.href ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\r\n            >\r\n              <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === item.href ? '#667eea' : 'inherit' }}>\r\n                {item.icon}\r\n              </span>\r\n              <span className=\"font-semibold\" style={{ color: pathname === item.href ? '#667eea' : 'inherit' }}>\r\n                {item.label}\r\n              </span>\r\n            </Link>\r\n          ))}\r\n          <Link\r\n            href=\"/admin/staff\"\r\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\r\n              pathname === '/admin/staff'\r\n                ? 'neu-card-inset'\r\n                : 'hover:bg-white/20'\r\n            }`}\r\n            style={pathname === '/admin/staff' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\r\n          >\r\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/staff' ? '#667eea' : 'inherit' }}>people</span>\r\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/staff' ? '#667eea' : 'inherit' }}>Staff</span>\r\n          </Link>\r\n          <Link\r\n            href=\"/admin/fees\"\r\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\r\n              pathname === '/admin/fees'\r\n                ? 'neu-card-inset'\r\n                : 'hover:bg-white/20'\r\n            }`}\r\n            style={pathname === '/admin/fees' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\r\n          >\r\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/fees' ? '#667eea' : 'inherit' }}>receipt_long</span>\r\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/fees' ? '#667eea' : 'inherit' }}>Fees</span>\r\n          </Link>\r\n          <Link\r\n            href=\"/admin/client-users\"\r\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\r\n              pathname === '/admin/client-users'\r\n                ? 'neu-card-inset'\r\n                : 'hover:bg-white/20'\r\n            }`}\r\n            style={pathname === '/admin/client-users' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\r\n          >\r\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/client-users' ? '#667eea' : 'inherit' }}>person_add</span>\r\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/client-users' ? '#667eea' : 'inherit' }}>Registered Clients</span>\r\n          </Link>\r\n          <Link\r\n            href=\"/admin/rooms\"\r\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\r\n              pathname === '/admin/rooms'\r\n                ? 'neu-card-inset'\r\n                : 'hover:bg-white/20'\r\n            }`}\r\n            style={pathname === '/admin/rooms' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\r\n          >\r\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/rooms' ? '#667eea' : 'inherit' }}>meeting_room</span>\r\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/rooms' ? '#667eea' : 'inherit' }}>Rooms</span>\r\n          </Link>\r\n          <Link\r\n            href=\"/admin/roles\"\r\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\r\n              pathname === '/admin/roles'\r\n                ? 'neu-card-inset'\r\n                : 'hover:bg-white/20'\r\n            }`}\r\n            style={pathname === '/admin/roles' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\r\n          >\r\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/roles' ? '#667eea' : 'inherit' }}>admin_panel_settings</span>\r\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/roles' ? '#667eea' : 'inherit' }}>Roles</span>\r\n          </Link>\r\n          <Link\r\n            href=\"/admin/settings\"\r\n            className={`flex items-center gap-3 px-4 py-3 rounded-xl transition-all hover-lift ${\r\n              pathname === '/admin/settings'\r\n                ? 'neu-card-inset'\r\n                : 'hover:bg-white/20'\r\n            }`}\r\n            style={pathname === '/admin/settings' ? { background: 'rgba(102, 126, 234, 0.15)', boxShadow: 'inset 4px 4px 8px rgba(163, 177, 198, 0.2), inset -4px -4px 8px rgba(255, 255, 255, 0.8)' } : {}}\r\n          >\r\n            <span className=\"material-symbols-outlined text-xl\" style={{ color: pathname === '/admin/settings' ? '#667eea' : 'inherit' }}>settings</span>\r\n            <span className=\"font-semibold\" style={{ color: pathname === '/admin/settings' ? '#667eea' : 'inherit' }}>Settings</span>\r\n          </Link>\r\n        </nav>\r\n        <div className=\"p-4 border-t\" style={{ borderColor: 'rgba(255, 255, 255, 0.18)' }}>\r\n          <div className=\"mb-3 p-3 rounded-xl glass-card\" style={{ background: 'rgba(255, 255, 255, 0.2)', backdropFilter: 'blur(10px)' }}>\r\n            <p className=\"text-xs text-gray-500 mb-1\">Logged in as</p>\r\n            <p className=\"text-sm font-semibold text-charcoal truncate\">{user?.email}</p>\r\n          </div>\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl text-sm font-semibold text-white hover-lift transition-all\"\r\n            style={{ background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', boxShadow: '0 4px 15px rgba(102, 126, 234, 0.3)' }}\r\n          >\r\n            <span className=\"material-symbols-outlined text-lg\">logout</span>\r\n            <span>Logout</span>\r\n          </button>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"flex-1 overflow-y-auto relative z-10\">\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}